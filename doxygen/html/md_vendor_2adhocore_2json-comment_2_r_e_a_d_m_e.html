<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Doubacore: adhocore/json-comment</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Doubacore<span id="projectnumber">&#160;0.2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">adhocore/json-comment</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md34"></a> <a href="https://github.com/adhocore/php-json-comment/releases"><img src="https://img.shields.io/github/release/adhocore/php-json-comment.svg?style=flat-square" alt="Latest Version" style="pointer-events: none;" class="inline"/></a> <a href="https://travis-ci.org/adhocore/php-json-comment?branch=main"><img src="https://img.shields.io/travis/adhocore/php-json-comment/main.svg?style=flat-square" alt="Travis Build" style="pointer-events: none;" class="inline"/></a> <a href="https://scrutinizer-ci.com/g/adhocore/php-json-comment/?branch=main"><img src="https://img.shields.io/scrutinizer/g/adhocore/php-json-comment.svg?style=flat-square" alt="Scrutinizer CI" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/adhocore/php-json-comment"><img src="https://img.shields.io/codecov/c/github/adhocore/php-json-comment/main.svg?style=flat-square" alt="Codecov branch" style="pointer-events: none;" class="inline"/></a> <a href="https://styleci.io/repos/100117199"><img src="https://styleci.io/repos/100117199/shield" alt="StyleCI" class="inline"/></a> [<img src="https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square" alt="Software License" style="pointer-events: none;" class="inline"/>](LICENSE) <a href="https://www.paypal.me/ji10/15usd"><img src="https://img.shields.io/badge/donate-paypal-blue.svg?style=flat-square&amp;label=donate+15" alt="Donate 15" style="pointer-events: none;" class="inline"/></a> <a href="https://www.paypal.me/ji10/25usd"><img src="https://img.shields.io/badge/donate-paypal-blue.svg?style=flat-square&amp;label=donate+25" alt="Donate 25" style="pointer-events: none;" class="inline"/></a> <a href="https://www.paypal.me/ji10/50usd"><img src="https://img.shields.io/badge/donate-paypal-blue.svg?style=flat-square&amp;label=donate+50" alt="Donate 50" style="pointer-events: none;" class="inline"/></a> <a href="https://twitter.com/intent/tweet?text=Flexible+JSON+parser+with+comments+and+newline+support+in+PHP&amp;url=https://github.com/adhocore/php-json-comment&amp;hashtags=php,json,flexible-json,json-comment"><img src="https://img.shields.io/twitter/url/http/shields.io.svg?style=social" alt="Tweet" style="pointer-events: none;" class="inline"/></a></p>
<ul>
<li>Lightweight JSON comment stripper library for PHP.</li>
<li>Makes possible <a class="el" href="protocolto-p.html">to</a> have comment in any form of JSON data.</li>
<li>Supported comments: single line <code>// comment</code> or multi line <code>/* comment */</code>.</li>
<li>Also strips trailing comma at the end of array or object, eg:<ul>
<li><code>[1,2,,]</code> =&gt; <code>[1,2]</code></li>
<li><code>{"x":1,,}</code> =&gt; <code>{"x":1}</code></li>
</ul>
</li>
<li>Handles literal LF (newline/linefeed) within string notation so that we can have multiline string</li>
<li>Supports JSON string inside JSON string (see ticket #15 and PR #16)</li>
</ul>
<h1><a class="anchor" id="autotoc_md35"></a>
Installation</h1>
<div class="fragment"><div class="line">composer require adhocore/json-comment</div>
<div class="line"> </div>
<div class="line"># for php5.6</div>
<div class="line">composer require adhocore/json-comment:^0.2</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md36"></a>
Usage</h1>
<div class="fragment"><div class="line">use <a class="code hl_class" href="class_ahc_1_1_json_1_1_comment.html">Ahc\Json\Comment</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// The JSON string!</span></div>
<div class="line">$someJsonText = <span class="stringliteral">&#39;{&quot;a&quot;:1,</span></div>
<div class="line"><span class="stringliteral">&quot;b&quot;:2,// comment</span></div>
<div class="line"><span class="stringliteral">&quot;c&quot;:3 /* inline comment */,</span></div>
<div class="line"><span class="stringliteral">// comment</span></div>
<div class="line"><span class="stringliteral">&quot;d&quot;:/* also a comment */&quot;d&quot;,</span></div>
<div class="line"><span class="stringliteral">/* creepy comment*/&quot;e&quot;:2.3,</span></div>
<div class="line"><span class="stringliteral">/* multi line</span></div>
<div class="line"><span class="stringliteral">comment */</span></div>
<div class="line"><span class="stringliteral">&quot;f&quot;:&quot;f1&quot;,}&#39;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// OR</span></div>
<div class="line">$someJsonText = file_get_contents(<span class="stringliteral">&#39;...&#39;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Strip only!</span></div>
<div class="line">(<span class="keyword">new</span> Comment)-&gt;strip($someJsonText);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Strip and decode!</span></div>
<div class="line">(<span class="keyword">new</span> Comment)-&gt;decode($someJsonText);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// You can pass args like in `json_decode`</span></div>
<div class="line">(<span class="keyword">new</span> Comment)-&gt;decode($someJsonText, $assoc = <span class="keyword">true</span>, $depth = 512, $options = JSON_BIGINT_AS_STRING);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or you can use static alias of decode:</span></div>
<div class="line">Comment::parse($json, <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Or use file directly</span></div>
<div class="line">Comment::parseFromFile(<span class="stringliteral">&#39;/path/to/file.json&#39;</span>, <span class="keyword">true</span>);</div>
<div class="ttc" id="aclass_ahc_1_1_json_1_1_comment_html"><div class="ttname"><a href="class_ahc_1_1_json_1_1_comment.html">Ahc\Json\Comment</a></div><div class="ttdef"><b>Definition</b> Comment.php:22</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md37"></a>
Example</h2>
<p>An example JSON that this library can parse:s</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;name&quot;: &quot;adhocore/json-comment&quot;,</div>
<div class="line">  &quot;description&quot;: &quot;JSON comment stripper library for PHP.</div>
<div class="line">    There is literal line break just above this line but that&#39;s okay&quot;,</div>
<div class="line">  &quot;type&quot;:/* This is creepy comment */ &quot;library&quot;,</div>
<div class="line">  &quot;keywords&quot;: [</div>
<div class="line">    &quot;json&quot;,</div>
<div class="line">    &quot;comment&quot;,</div>
<div class="line">    // Single line comment, Notice the comma below:</div>
<div class="line">    &quot;strip-comment&quot;,</div>
<div class="line">  ],</div>
<div class="line">  &quot;license&quot;: &quot;MIT&quot;,</div>
<div class="line">  /*</div>
<div class="line">   * This is a multiline comment.</div>
<div class="line">   */</div>
<div class="line">  &quot;authors&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;Jitendra Adhikari&quot;,</div>
<div class="line">      &quot;email&quot;: &quot;jiten.adhikary@gmail.com&quot;,</div>
<div class="line">    },</div>
<div class="line">  ],</div>
<div class="line">  &quot;autoload&quot;: {</div>
<div class="line">      &quot;psr-4&quot;: {</div>
<div class="line">          &quot;Ahc\\Json\\&quot;: &quot;src/&quot;,</div>
<div class="line">      },</div>
<div class="line">  },</div>
<div class="line">  &quot;autoload-dev&quot;: {</div>
<div class="line">      &quot;psr-4&quot;: {</div>
<div class="line">          &quot;Ahc\\Json\\Test\\&quot;: &quot;tests/&quot;,</div>
<div class="line">      },</div>
<div class="line">  },</div>
<div class="line">  &quot;require&quot;: {</div>
<div class="line">      &quot;php&quot;: &quot;&gt;=7.0&quot;,</div>
<div class="line">      &quot;ext-ctype&quot;: &quot;*&quot;,</div>
<div class="line">  },</div>
<div class="line">  &quot;require-dev&quot;: {</div>
<div class="line">      &quot;phpunit/phpunit&quot;: &quot;^6.5 || ^7.5 || ^8.5&quot;,</div>
<div class="line">  },</div>
<div class="line">  &quot;scripts&quot;: {</div>
<div class="line">      &quot;test&quot;: &quot;phpunit&quot;,</div>
<div class="line">      &quot;echo&quot;: &quot;echo &#39;// This is not comment&#39;&quot;,</div>
<div class="line">      &quot;test:cov&quot;: &quot;phpunit --coverage-text&quot;,</div>
<div class="line">  },</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
